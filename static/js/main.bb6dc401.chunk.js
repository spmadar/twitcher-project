(this.webpackJsonpkwitter=this.webpackJsonpkwitter||[]).push([[0],{319:function(e,t,n){e.exports=n(596)},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},452:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),s=n.n(o),c=n(25),u=n(104),i=n(18),l=n(19),m=n(21),h=n(20),p=n(22),d=n(43),g=n(42),f=n(279),b=n.n(f),j=n(38),O=n(68),E=n(33),S=n(30),y="https://kwitter-api.herokuapp.com",v={"Content-Type":"application/json",Accept:"application/json"},k=function(e){return e.ok?e.json():e.json().then((function(e){throw e}))},A=function(e){return{START:Object(O.b)(e+"/start"),SUCCESS:Object(O.b)(e+"/success"),FAIL:Object(O.b)(e+"/fail")}},C={result:null,loading:!1,error:null},w=function(e){var t,n=e.START,a=e.SUCCESS,r=e.FAIL;return t={},Object(g.a)(t,n,(function(e,t){e.loading=!0,e.error=null})),Object(g.a)(t,a,(function(e,t){e.loading=!1,e.result=t.payload})),Object(g.a)(t,r,(function(e,t){e.loading=!1,e.error=t.payload})),t},T=y+"/auth",I=A("login"),L=A("logout"),P={login:Object(O.c)(function(e,t){var n=JSON.parse(localStorage.getItem(e));if(n&&(Object.keys(n).every((function(e){return void 0!==t[e]}))&&Object.keys(t).every((function(e){return void 0!==n[e]}))))return n;return t}("login",C),Object(S.a)({},w(I),Object(g.a)({},L.SUCCESS.toString(),(function(e,t){return C})))),logout:Object(O.c)(C,Object(S.a)({},w(L)))},N=n(35),U=y+"/users",R=A("createuser"),D=A("getuser"),F=A("addpicture"),x={createuser:Object(O.c)(C,Object(S.a)({},w(R))),getuser:Object(O.c)(C,Object(S.a)({},w(D))),addpicture:Object(O.c)(C,Object(S.a)({},w(F)))},J=y+"/messages",z=A("createpost"),B=A("getmessages"),G=function(e){return function(e){return e(B.START()),fetch(J,{method:"GET",headers:v}).then(k).then((function(t){return e(B.SUCCESS(t))})).catch((function(t){return Promise.reject(e(B.FAIL(t)))}))}},H={createpost:Object(O.c)(C,Object(S.a)({},w(z))),getmessages:Object(O.c)(C,Object(S.a)({},w(B)))},M=y+"/likes",q=A("deleteLike"),K=A("addLike"),Y={addLikes:Object(O.c)(C,Object(S.a)({},w(K))),deleteLikes:Object(O.c)(C,Object(S.a)({},w(q)))},W=Object(j.a)({basename:"/twitcher-project"}),Q=Object(O.a)({reducer:{router:Object(u.b)(W),auth:Object(E.combineReducers)(P),user:Object(E.combineReducers)(x),messages:Object(E.combineReducers)(H),likes:Object(E.combineReducers)(Y)},preloadedState:{},devTools:!1});Q.subscribe((function(){localStorage.setItem("login",JSON.stringify(Q.getState().auth.login)),localStorage.setItem("createpost",JSON.stringify(Q.getState().messages.createpost)),localStorage.setItem("getmessages",JSON.stringify(Q.getState().messages.getmessages)),localStorage.setItem("getuser",JSON.stringify(Q.getState().user.getuser)),localStorage.setItem("createuser",JSON.stringify(Q.getState().user.createuser)),localStorage.setItem("addpicture",JSON.stringify(Q.getState().user.addpicture))}));n(350);var V=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleLogin=function(e){e.preventDefault(),n.props.login(n.state)},n.handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{id:"login-form",onSubmit:this.handleLogin},r.a.createElement("label",{htmlFor:"username",id:"user"},"Username"),r.a.createElement("input",{className:"input",type:"text",name:"username",autoFocus:!0,required:!0,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password",id:"pass"},"Password"),r.a.createElement("input",{className:"input",type:"password",name:"password",required:!0,onChange:this.handleChange}),r.a.createElement("button",{type:"submit",id:"logbutton",disabled:t},"Login")),t&&r.a.createElement(b.a,{name:"circle",color:"blue"}),n&&r.a.createElement("p",{style:{color:"red"}},n.message))}}]),t}(r.a.Component),X=Object(c.connect)((function(e){return{result:e.auth.login.result,loading:e.auth.login.loading,error:e.auth.login.error}}),{login:function(e){return function(t){return t(I.START()),fetch(T+"/login",{method:"POST",headers:v,body:JSON.stringify(e)}).then(k).then((function(e){return t(I.SUCCESS(e))})).catch((function(e){return Promise.reject(t(I.FAIL(e)))}))}}})(V),Z=n(60),$=(n(351),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){e.preventDefault(),n.props.logout()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"menu",id:"appbar"},r.a.createElement("h1",{className:"logo"},"Twitcher"),this.props.isAuthenticated&&r.a.createElement("div",{id:"menu-links"},r.a.createElement(Z.a,{to:"/messagefeed",id:"msg"},"Message Feed"),r.a.createElement(Z.a,{to:"/profiles/:username",id:"profile"},"Profile"),r.a.createElement(Z.a,{to:"/",id:"logout",onClick:this.handleLogout},"Logout")))}}]),t}(r.a.Component)),_=Object(c.connect)((function(e){return{result:e.auth.logout.result,loading:e.auth.logout.loading,error:e.auth.logout.error}}),{logout:function(){return function(e,t){e(L.START());var n=t().auth.login.result.token;return fetch(T+"/logout",{method:"GET",headers:Object(S.a)({Authorization:"Bearer "+n},v)}).then(k).then((function(t){return e(L.SUCCESS(t))})).catch((function(t){return Promise.reject(e(L.FAIL(t)))}))}}})($),ee=n(614),te=n(609),ne=(n(352),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",displayName:"",password:""},n.handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value)),console.log(n.state)},n.handleSignUp=function(e){n.props.createuser(n.state.username,n.state.displayName,n.state.password)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.result&&(console.log(this.props.result,"first"),200===this.props.result.statusCode)?(console.log(this.props.result),null):r.a.createElement(ee.a,{inverted:!0},r.a.createElement("h1",null,"Create Your Account"),r.a.createElement(te.a,{inverted:!0},r.a.createElement(te.a.Group,{widths:"equal"},r.a.createElement(te.a.Input,{id:"reguser",name:"username",fluid:!0,label:"Username",placeholder:"Username",onChange:this.handleChange}),r.a.createElement(te.a.Input,{id:"regdisp",name:"displayName",fluid:!0,label:"Display Name",placeholder:"Display Name",onChange:this.handleChange}),r.a.createElement(te.a.Input,{id:"regpass",name:"password",fluid:!0,label:"Password",placeholder:"Password",onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"glow-on-hover",onClick:this.handleSignUp},"Sign Up!")))}}]),t}(r.a.Component)),ae={createuser:function(e,t,n){return function(a,r){return a(function(e,t,n){return function(a,r){return a(R.START()),console.log(e,t,n),fetch(U,{method:"POST",headers:v,body:JSON.stringify({username:e,displayName:t,password:n})}).then(k).then((function(e){return a(R.SUCCESS(e))})).catch((function(e){return Promise.reject(a(R.FAIL(e)))}))}}(e,t,n)).then((function(){a(Object(N.c)("/"))}))}}},re=Object(c.connect)((function(e){return{loading:e.user.createuser.loading,error:e.user.createuser.error,result:e.user.createuser.result}}),ae)(ne),oe=n(612),se=n(600),ce=(n(250),n(452),n(292)),ue=n(297),ie=n(298),le=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleToggleLike=function(e){n.props.toggleLike(n.props.likes,n.props.messageId)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return null===this.props.result?null:r.a.createElement(ce.a,{outline:!0,className:"like",theme:"primary",size:"sm",onClick:this.handleToggleLike},r.a.createElement(ue.a,{icon:ie.a,size:"lg"})," ")}}]),t}(r.a.Component),me={toggleLike:function(e,t){return function(n,a){var r,o=a().auth.login.result.username;(e=e.filter((function(e){return e.username===o}))).length>0?n((r=e[0].id,function(e,t){e(q.START());var n=t().auth.login.result.token;return fetch(M+"/"+r,{method:"DELETE",headers:Object(S.a)({Authorization:"Bearer "+n},v)}).then(k).then((function(t){return e(q.SUCCESS(t))})).catch((function(t){return Promise.reject(e(q.FAIL(t)))}))})).then((function(){return n(G())})):n(function(e){return function(t,n){console.log("added a like!"),t(K.START());var a=n().auth.login.result.token;return console.log(e),fetch(M,{method:"POST",headers:Object(S.a)({Authorization:"Bearer "+a},v),body:JSON.stringify({messageId:e})}).then(k).then((function(e){return t(K.SUCCESS(e))})).catch((function(e){return Promise.reject(t(K.FAIL(e)))}))}}(t)).then((function(){return n(G())}))}}},he=Object(c.connect)((function(e){return{loggedInUsername:e.auth.login.result.username}}),me)(le),pe=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"msgcard"},r.a.createElement(oe.a.Group,{id:"container"},r.a.createElement(oe.a,null,r.a.createElement(oe.a.Content,null,r.a.createElement(se.a,{id:"likebutton",as:"div",labelPosition:"right",size:"tiny"},r.a.createElement(he,{messageId:this.props.id,likes:this.props.likes})),r.a.createElement(oe.a.Avatar,{id:"avatar",as:"a",src:"https://kwitter-api.herokuapp.com/users/".concat(this.props.username,"/picture"),onError:function(e){return e.target.style.display="none"},size:"medium",wrapped:"true"}),r.a.createElement("div",{id:"content"},r.a.createElement(oe.a.Author,null," ",this.props.username),r.a.createElement(oe.a.Metadata,null,this.props.createdAt),r.a.createElement(oe.a.Text,null,this.props.text))))))}}]),t}(r.a.Component),de=n(608),ge=(n(526),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={messagetext:""},n.handleChange=function(e){e.preventDefault(),n.props.createpost(n.state.messagetext),n.setState({messagetext:""})},n.handlePost=function(e){n.setState({messagetext:e.target.value})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"createpost"},r.a.createElement(te.a,null,r.a.createElement(te.a.Field,null,r.a.createElement("label",{id:"calltoaction"},"Speak your mind..."),r.a.createElement(de.a,{onChange:this.handlePost})),r.a.createElement(se.a,{onClick:this.handleChange},"post")))}}]),t}(r.a.Component)),fe=Object(c.connect)((function(e){return{result:e.messages.createpost.result,loading:e.messages.createpost.loading,error:e.messages.createpost.error}}),{createpost:function(e){return function(t){t(function(e){return function(t,n){t(z.START());var a=n().auth.login.result.token;return console.log(e),fetch(J,{method:"POST",headers:Object(S.a)({Authorization:"Bearer "+a},v),body:JSON.stringify({text:e})}).then(k).then((function(e){return t(z.SUCCESS(e))})).catch((function(e){return Promise.reject(t(z.FAIL(e)))}))}}(e)).then((function(){return t(G())}))}}})(ge),be=(n(527),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getmessages()}},{key:"render",value:function(){return null===this.props.result?null:this.props.result.messages.map((function(e){return r.a.createElement(pe,{key:e.id,text:e.text,createdAt:new Date(e.createdAt).toDateString(),username:e.username,likes:e.likes,id:e.id})}))}}]),t}(r.a.Component)),je={getmessages:G},Oe=Object(c.connect)((function(e){return{result:e.messages.getmessages.result,loading:e.messages.getmessages.result,error:e.messages.getmessages.result}}),je)(be),Ee=n(135),Se=n(613),ye=n(307),ve=n(610),ke=(n(528),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleAddPicture=function(e){e.preventDefault(),n.props.addpicture(e.target),setTimeout((function(){window.location.reload()}),1e3)},n.handleDisplayPicture=function(){return n.props.pictureLocation?"https://kwitter-api.herokuapp.com/users/".concat(n.props.username,"/picture"):null},n.handleAddPicture=n.handleAddPicture.bind(Object(Ee.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Se.a,null,r.a.createElement(ye.a,{src:this.handleDisplayPicture(),wrapped:!0,ui:!1}),r.a.createElement(Se.a.Content,null,r.a.createElement(Se.a.Header,null,this.props.username),r.a.createElement(Se.a.Meta,null,r.a.createElement("span",{className:"date"},"joined on ",new Date(this.props.createdAt).toDateString()))),r.a.createElement(Se.a.Content,{extra:!0},r.a.createElement(ve.a,{trigger:r.a.createElement(se.a,null,"Upload a Photo"),closeIcon:!0},r.a.createElement(ve.a.Header,null,"Select a file"),r.a.createElement(ve.a.Actions,null,r.a.createElement(te.a,{onSubmit:this.handleAddPicture},r.a.createElement("input",{type:"file",name:"picture"}),r.a.createElement("input",{type:"submit",value:"Submit"}))))))}}]),t}(r.a.Component)),Ae={addpicture:function(e){return function(t,n){t(F.START());var a=n().auth.login.result.username,r=n().auth.login.result.token;return fetch(U+"/"+a+"/picture",{method:"PUT",headers:{Authorization:"Bearer "+r,Accept:"application/json"},body:new FormData(e)}).then(k).then((function(e){return t(F.SUCCESS(e))})).catch((function(e){return Promise.reject(t(F.FAIL(e)))}))}}},Ce=Object(c.connect)((function(e){return{username:e.auth.login.result.username,createdAt:e.user.getuser.result.user.createdAt,pictureLocation:e.user.getuser.result.user.pictureLocation}}),Ae)(ke),we=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getmessages()}},{key:"render",value:function(){var e=this;return null===this.props.result?null:this.props.result.messages.filter((function(t){return t.username===e.props.username})).map((function(e){return r.a.createElement(pe,{key:e.id,text:e.text,createdAt:new Date(e.createdAt).toDateString(),username:e.username})}))}}]),t}(r.a.Component),Te={getmessages:G},Ie=Object(c.connect)((function(e){return{username:e.auth.login.result.username,result:e.messages.getmessages.result,loading:e.messages.getmessages.result,error:e.messages.getmessages.result}}),Te)(we),Le=n(146),Pe=Object(Le.connectedRouterRedirect)({redirectPath:"/",authenticatedSelector:function(e){return e.auth&&e.auth.login&&e.auth.login.result&&void 0!==e.auth.login.result.token},wrapperDisplayName:"UserIsAuthenticated"}),Ne=Object(Le.connectedRouterRedirect)({redirectPath:function(e,t){return"/profiles/".concat(e.auth&&e.auth.login&&e.auth.login.result&&e.auth.login.result.username)},allowRedirectBack:!1,authenticatedSelector:function(e){return e.auth&&e.auth.login&&null===e.auth.login.result},wrapperDisplayName:"UserIsNotAuthenticated"}),Ue=(n(594),Ne(function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"homepage"},r.a.createElement(_,null),r.a.createElement("h2",null,'"Evil is Evil. Lesser, greater, middling\u2026 ',r.a.createElement("br",null),"Makes no difference. The degree is arbitrary. The definition is blurred. ",r.a.createElement("br",null),'If I\u2019m to choose between one evil and another, I\u2019d rather not choose at all."'),r.a.createElement(X,null),r.a.createElement(Z.a,{to:"/signup",id:"createacc"},"Create An Account"))}}]),t}(r.a.Component))),Re=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getuser(this.props.username)}},{key:"render",value:function(){if(null===this.props.result)return null;var e=this.props.result.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{isAuthenticated:this.props.isAuthenticated}),r.a.createElement(Ce,{pictureLocation:e.pictureLocation,username:e.displayName}),r.a.createElement(fe,null),r.a.createElement(Ie,null))}}]),t}(r.a.Component),De={getuser:function(e){return function(t){return t(D.START()),fetch(U+"/"+e,{method:"GET"}).then(k).then((function(e){return t(D.SUCCESS(e))})).catch((function(e){return Promise.reject(t(D.FAIL(e)))}))}}},Fe=Pe(Object(c.connect)((function(e){return{username:e.auth.login.result.username,result:e.user.getuser.result,loading:e.user.getuser.loading,error:e.user.getuser.error}}),De)(Re)),xe=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Page not found for ",this.props.location.pathname),r.a.createElement(Z.a,{to:"/"},"Go Home"))}}]),t}(r.a.Component),Je=(n(595),Pe(function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"home"},r.a.createElement(_,{isAuthenticated:this.props.isAuthenticated}),r.a.createElement(fe,null),r.a.createElement(Oe,null))}}]),t}(r.a.Component))),ze=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={tweets:[{id:1,profileImage:"../img/renfri.png",name:"Renfri",tweet:"Sometimes I feel like the whole world is out to get me. God knows I\u2019m only in Blaviken to kill that bastard Stregobor. Any man strong enough to defy medieval misogyny, meet me in the Tavern."},{id:2,profileImage:"../img/stregobor.png",name:"Stregobor",tweet:"The Curse of the Black Sun has plagued humanity for decades; the time is now nigh for this wretched period to finally come to a close. Anybody who is willing to eliminate King Fredefalk of Creyden\u2019s bastard daughter, the last daughter of Lilit, I will shower with naked women."},{id:3,profileImage:"../img/yennefer.png",name:"Yennefer",tweet:"Sigh\u2026 Portal-hopping to this extent is terrible for my complexion. I really don\u2019t appreciate @Lyria sending some kind of mage assassin to kill this entitled-ass Aedirn queen I\u2019m supposed to be protecting\u2026\u2026. Crap! He just got the kid too. Help!"},{id:4,profileImage:"../img/striga.png",name:"Striga",tweet:"Guuuuuuuurgrlgkmsl\u2026.. AHKSAH!!! RAra. Withcheererrrssssssssssssssss\u2026\u2026. Aha\u2026 pull up\u2026"}]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:Ue}),r.a.createElement(d.a,{exact:!0,path:"/signup",component:re}),r.a.createElement(d.a,{exact:!0,path:"/profiles/:username",component:Fe}),r.a.createElement(d.a,{exact:!0,path:"/messagefeed",component:Je}),r.a.createElement(d.a,{path:"*",component:xe}))}}]),t}(r.a.Component);s.a.render(r.a.createElement(c.Provider,{store:Q},r.a.createElement(u.a,{history:W},r.a.createElement(ze,null))),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.bb6dc401.chunk.js.map